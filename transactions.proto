syntax = "proto3";

package thrylos;

option go_package = "github.com/thrylos-labs/thrylos";

message Transaction {
  string id = 1 [json_name = "id"];
  int64 timestamp = 2 [json_name = "timestamp"];
  repeated UTXO inputs = 3 [json_name = "inputs"];
  repeated UTXO outputs = 4 [json_name = "outputs"];
  bytes encrypted_inputs = 5 [json_name = "encryptedInputs"];
  bytes encrypted_outputs = 6 [json_name = "encryptedOutputs"];
  bytes encrypted_aes_key = 10 [json_name = "encryptedAESKey"];
  string signature = 7 [json_name = "signature"];
  string dilithium_signature = 8 [json_name = "dilithiumSignature"];
  repeated string previous_tx_ids = 9 [json_name = "previousTxIds"];
}

message UTXO {
  string transaction_id = 1 [json_name = "transactionId"];
  int32 index = 2 [json_name = "index"];
  string owner_address = 3 [json_name = "ownerAddress"];
  int64 amount = 4 [json_name = "amount"];
}

// to generate the file again run:
// protoc --go_out=. --go_opt=paths=source_relative transactions.proto
